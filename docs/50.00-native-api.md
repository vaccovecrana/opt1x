## Native REST API Configuration Access

Once your configuration variables and tree are defined, you can retrieve these configurations via the native Opt1x REST API.

Supported formats include `json`, `yaml`, `props`, and `toml` at the following endpoints:

### By Config ID (Default JSON)

Retrieve configuration using a native config ID:
```
/api/v1/config/{cid}
```

Example:
```
$ curl 'http://localhost:7070/api/v1/config/1743451036/json?encrypted=false&kid=483892c657c3441b4c4eb4bace674aab74417ad6'
{
 "spring": { "datasource": { "url": "jdbc:rqlite:https://rqlite-00:4001" } },
 "server": { "port": 80 },
 "trek": { "api": { "endpoint": "https://api.trek.io" } }
}
```

### By Config ID with Format

Retrieve configuration in a specified format:
```
/api/v1/config/{cid}/{fmt}
```

Example (YAML):
```
$ curl 'http://localhost:7070/api/v1/config/1743451036/yaml?encrypted=false&kid=483892c657c3441b4c4eb4bace674aab74417ad6'
spring:
 datasource:
   url: "jdbc:rqlite:https://rqlite-00:4001"
server:
 port: 80
trek:
 api:
   endpoint: "https://api.trek.io"
```

### By Namespace and Config Name

Access configurations by their namespace and name for easier reference:
```
/api/v1/config/of/{nsName}/{cfgName}
/api/v1/config/of/{nsName}/{cfgName}/{fmt}
```

Example (JSON for `trek/dev`):
```
$ curl 'http://localhost:7070/api/v1/config/of/trek/dev/json?encrypted=false&kid=483892c657c3441b4c4eb4bace674aab74417ad6'
{
 "spring": { "datasource": { "url": "jdbc:h2:mem" } },
 "server": { "port": 8080 },
 "trek": { "api": { "endpoint": "https://api.dev.trek.io" } }
}
```

Example (Properties for `trek/prod`):
```
$ curl 'http://localhost:7070/api/v1/config/of/trek/prod/props?encrypted=false&kid=483892c657c3441b4c4eb4bace674aab74417ad6'
spring.datasource.url=jdbc\:rqlite\:https\://rqlite-00\:4001
server.port=80
trek.api.endpoint=https\://api.trek.io
```

### Parameters

- **`encrypted`**: Specifies whether encrypted values should be decrypted (`false`) or returned as ciphers (`true`) in the response.
- **`kid`**: The API key ID requesting the configuration. Opt1x verifies that the key has permission to access the target namespace.
